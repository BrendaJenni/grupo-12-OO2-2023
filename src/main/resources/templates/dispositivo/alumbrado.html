<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	<link href="/css/dispositivo.css" rel="stylesheet" />
	<title>Dispositivo</title>
</head>
<body>
	<div class="col">
  		<h1>Listado de Sensores</h1>
	</div>
	<div class="container col-10" id="myTable">
  		<div class="col-12">
    		<h2> </h2>
  		</div>

  		<table class="table table-stripped table-bordered">
    		<thead class="table-dark">
      			<tr>
        			<th scope="col">Id</th>
        			<th scope="col">Activo</th>
        			<th scope="col">Nombre</th>
        			<th scope="col">Encendido</th>
        			<th scope="col">Estaci칩n</th>
        			<th scope="col">Obscuridad</th>
      			</tr>
    		</thead>
    		<tbody>
     	 		<tr th:each="dispositivo: ${dispositivos}">
        			<td th:text="${dispositivo.id}"></td>
        			<td th:text="${dispositivo.activo}"></td>
        			<td th:text="${dispositivo.nombre}"></td>
        			<td th:text="${dispositivo.encendido}"></td>
        			<td th:text="${dispositivo.estacion}"></td>
        			<td th:text="${dispositivo.obscuridadPor}"></td>
      			</tr>
    		</tbody>
  		</table>

  		<table class="table table-stripped table-bordered">
    		<thead class="table-dark">
      			<tr>
        			<th scope="col">Id</th>
        			<th scope="col">Fecha</th>
        			<th scope="col">Dispositivo Vinculado</th>			
      			</tr>
    		</thead>
    		<tbody>
      			<tr th:each="dispositivo: ${dispositivos}">
        			<td>
          				<ul>
            				<li th:each="medicion : ${dispositivo.mediciones}" th:utext="${medicion.idMedicion}"></li>
          				</ul>
        			</td>
        			<td>
          				<ul>
            				<li th:each="medicion : ${dispositivo.mediciones}" th:utext="${medicion.fechaRegistro}"></li>
          				</ul>
        			</td>
        			<td>
          				<ul>
            				<li th:each="medicion : ${dispositivo.mediciones}" th:utext="${medicion.dispositivo.id}"></li>
          				</ul>
        			</td>
      			</tr>
    		</tbody>
  		</table>

      <div class="col-12">
        <h2>Agregar Dispositivo</h2>
      </div>

      <form th:action="@{/sensoralumbrado/dispositivo/alumbrado}" method="post">
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" class="form-control" id="nombre" name="nombre" required>
        </div>
        <div class="form-group">
          <label for="activo">Activo:</label>
          <select class="form-control" id="activo" name="activo" required>
            <option value="true">true</option>
            <option value="false">false</option>
          </select>
        </div>
        <div class="form-group">
          <label for="encendido">Encendido:</label>
          <select class="form-control" id="encendido" name="encendido" required>
            <option value="true">true</option>
            <option value="false">false</option>
          </select>
        </div>
        <div class="form-group">
          <label for="estacion">Estaci칩n:</label>
          <select class="form-control" id="estacion" name="estacion" required>
            <option value="Primavera">Primavera</option>
            <option value="Verano">Verano</option>
            <option value="Oto침o">Oto침o</option>
            <option value="Invierno">Invierno</option>
          </select>
        </div>
        <div class="form-group">
          <label for="obscuridad">Obscuridad:</label>
          <input type="number" class="form-control" id="obscuridad" name="obscuridadPor" required>
        </div>
        <button type="submit" class="btn btn-primary">Agregar</button>
      </form>
	</div>
</body>
</html>